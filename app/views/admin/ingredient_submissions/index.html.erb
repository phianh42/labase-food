<!-- app/views/admin/ingredient_submissions/index.html.erb -->
<div class="max-w-6xl mx-auto">
  <h1 class="text-4xl font-bold uppercase mb-8 border-b-4 border-black pb-2">
    Soumissions d'Ingrédients
  </h1>
  
  <% if @submissions.any? %>
    <div class="space-y-4">
      <% @submissions.each do |submission| %>
        <div class="border-2 border-yellow-600 p-4">
          <div class="flex justify-between items-start">
            <div>
              <h3 class="font-bold text-lg"><%= submission.ingredient_name %></h3>
              <p class="text-sm text-gray-600">
                Soumis par <%= link_to submission.user.username, user_path(submission.user), class: "underline" %>
                pour <%= link_to submission.recipe.title, recipe_path(submission.recipe), class: "underline" %>
              </p>
              <% if submission.context.present? %>
                <p class="mt-2 text-sm italic">"<%= submission.context %>"</p>
              <% end %>
              <p class="text-xs text-gray-500 mt-1">
                <%= submission.created_at.strftime("%d/%m/%Y à %H:%M") %>
              </p>
            </div>
            <div class="flex gap-2">
              <%= link_to "APPROUVER", approve_admin_ingredient_submission_path(submission), 
                          method: :patch,
                          class: "border-2 border-green-600 text-green-600 px-3 py-1 uppercase hover:bg-green-600 hover:text-white" %>
              <%= link_to "REJETER", reject_admin_ingredient_submission_path(submission), 
                          method: :patch,
                          class: "border-2 border-red-600 text-red-600 px-3 py-1 uppercase hover:bg-red-600 hover:text-white" %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
    
    <%= paginate @submissions %>
  <% else %>
    <p class="text-gray-600">Aucune soumission en attente</p>
  <% end %>
</div>
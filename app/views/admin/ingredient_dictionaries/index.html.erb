<!-- app/views/admin/ingredient_dictionaries/index.html.erb -->
<div class="max-w-7xl mx-auto">
  <h1 class="text-4xl font-bold uppercase mb-8 border-b-4 border-black pb-2">
    Gestion des Ingrédients
  </h1>
  
  <div class="mb-8">
    <%= link_to "NOUVEL INGRÉDIENT", new_admin_ingredient_dictionary_path, 
                class: "border-2 border-black px-4 py-2 uppercase hover:bg-black hover:text-white" %>
  </div>
  
  <!-- Pending Ingredients -->
  <div class="mb-12">
    <h2 class="text-2xl font-bold uppercase mb-4 border-b-2 border-black pb-2">
      En attente d'approbation (<%= @pending.total_count %>)
    </h2>
    
    <% if @pending.any? %>
      <div class="space-y-4">
        <% @pending.each do |ingredient| %>
          <div class="border-2 border-yellow-600 p-4 flex justify-between items-center">
            <div>
              <span class="font-bold"><%= ingredient.name %></span>
              <span class="text-sm">(<%= ingredient.category %>)</span>
              <% if ingredient.plural_form.present? %>
                <span class="text-sm text-gray-600">Pluriel: <%= ingredient.plural_form %></span>
              <% end %>
            </div>
            <div class="flex gap-2">
              <%= link_to "APPROUVER", approve_admin_ingredient_dictionary_path(ingredient), 
                          method: :patch,
                          class: "border-2 border-green-600 text-green-600 px-3 py-1 uppercase hover:bg-green-600 hover:text-white" %>
              <%= link_to "MODIFIER", edit_admin_ingredient_dictionary_path(ingredient), 
                          class: "border-2 border-black px-3 py-1 uppercase hover:bg-black hover:text-white" %>
              <%= link_to "REJETER", reject_admin_ingredient_dictionary_path(ingredient), 
                          method: :patch,
                          class: "border-2 border-red-600 text-red-600 px-3 py-1 uppercase hover:bg-red-600 hover:text-white" %>
            </div>
          </div>
        <% end %>
      </div>
      <%= paginate @pending, param_name: :pending_page %>
    <% else %>
      <p class="text-gray-600">Aucun ingrédient en attente</p>
    <% end %>
  </div>
  
  <!-- Approved Ingredients -->
  <div>
    <h2 class="text-2xl font-bold uppercase mb-4 border-b-2 border-black pb-2">
      Ingrédients approuvés (<%= @approved.total_count %>)
    </h2>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
      <% @approved.each do |ingredient| %>
        <div class="border-2 border-black p-4">
          <div class="font-bold"><%= ingredient.name %></div>
          <div class="text-sm text-gray-600">
            <%= ingredient.category %> 
            <%= "(#{ingredient.gender})" if ingredient.gender.present? %>
          </div>
          <% if ingredient.plural_form.present? %>
            <div class="text-sm">Pluriel: <%= ingredient.plural_form %></div>
          <% end %>
          <div class="mt-2 flex gap-2">
            <%= link_to "MODIFIER", edit_admin_ingredient_dictionary_path(ingredient), 
                        class: "text-sm border border-black px-2 py-1 hover:bg-black hover:text-white" %>
            <%= link_to "SUPPRIMER", admin_ingredient_dictionary_path(ingredient), 
                        method: :delete,
                        data: { confirm: "Êtes-vous sûr?" },
                        class: "text-sm border border-red-600 text-red-600 px-2 py-1 hover:bg-red-600 hover:text-white" %>
          </div>
        </div>
      <% end %>
    </div>
    <%= paginate @approved, param_name: :approved_page %>
  </div>
</div>

